/*!
 * Bootstrap-submenu v2.0.4 (https://vsn4ik.github.io/bootstrap-submenu/)
 * Copyright 2014-2018 Vasilii A. (https://github.com/vsn4ik)
 * Licensed under the MIT license
 */

"use strict";!function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(jQuery)}(function(n){function e(e){this.$element=n(e),this.$menu=this.$element.closest(".dropdown-menu"),this.$main=this.$menu.parent(),this.$items=this.$menu.children(".dropdown-submenu"),this.init()}function i(e){this.$element=n(e),this.$main=this.$element.parent(),this.$menu=this.$main.children(".dropdown-menu"),this.$subs=this.$main.siblings(".dropdown-submenu"),this.$items=this.$menu.children(".dropdown-submenu"),this.init()}function t(e){this.$element=n(e),this.$main=this.$element.parent(),this.$menu=this.$main.children(".dropdown-menu"),this.$items=this.$menu.children(".dropdown-submenu"),this.init()}e.prototype={init:function(){this.$element.on("keydown",n.proxy(this,"keydown"))},close:function(){console.log("close"),this.$menu.removeClass("show"),this.$items.trigger("hide.bs.submenu")},keydown:function(n){27===n.keyCode&&(n.stopPropagation(),this.close(),this.$main.children(".dropdown-item").trigger("focus"))}},n.extend(i.prototype,e.prototype,{init:function(){this.$element.on({click:n.proxy(this,"click"),keydown:n.proxy(this,"keydown")}),this.$main.on("hide.bs.submenu",n.proxy(this,"hide"))},click:function(n){n.stopPropagation(),this.toggle()},hide:function(n){n.stopPropagation(),this.close()},show:function(){console.log("show"),this.$menu.addClass("show"),this.$subs.trigger("hide.bs.submenu")},toggle:function(){this.$menu.hasClass("show")?this.close():this.show()},keydown:function(e){32===e.keyCode&&e.preventDefault(),-1!==n.inArray(e.keyCode,[13,32])&&this.toggle()}}),t.prototype={init:function(){this.$menu.off("keydown.bs.dropdown.data-api"),this.$menu.on("keydown",n.proxy(this,"itemKeydown")),this.$menu.find(".dropdown-item").each(function(){new e(this)}),this.$menu.find(".dropdown-submenu > .dropdown-item").each(function(){new i(this)}),this.$main.on("hidden.bs.dropdown",n.proxy(this,"hidden"))},hidden:function(){this.$items.trigger("hide.bs.submenu")},itemKeydown:function(e){if(-1!==n.inArray(e.keyCode,[38,40])){e.preventDefault(),e.stopPropagation();var i=this.$menu.find(".dropdown-item:not(:disabled):not(.disabled):visible"),t=i.index(e.target);if(38===e.keyCode&&0!==t)t--;else{if(40!==e.keyCode||t===i.length-1)return;t++}i.eq(t).trigger("focus")}}};var o=n.fn.submenupicker;return n.fn.submenupicker=function(e){return(this instanceof n?this:n(e)).each(function(){var e=n.data(this,"bs.submenu");e||(e=new t(this),n.data(this,"bs.submenu",e))})},n.fn.submenupicker.Constructor=t,n.fn.submenupicker.noConflict=function(){return n.fn.submenupicker=o,this},n.fn.submenupicker});